



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>How to Write Unit Test I - æternity Documentation Hub</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#e91e63">
      
    
    
      <script src="../../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../site/assets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="pink" data-md-color-accent="white">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#tutorial-how-to-write-unit-tests-for-sophia-smart-contracts-part-1" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="æternity Documentation Hub" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              æternity Documentation Hub
            </span>
            <span class="md-header-nav__topic">
              How to Write Unit Test I
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/aeternity/documentation-hub/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    aeternity/documentation-hub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="æternity Documentation Hub" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    æternity Documentation Hub
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/aeternity/documentation-hub/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    aeternity/documentation-hub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Node
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Node
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Get Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Get Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/docs/build-windows/" title="Build in Windows" class="md-nav__link">
      Build in Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/docs/build/" title="Build in Ubuntu" class="md-nav__link">
      Build in Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/docs/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/docs/cuda-miner/" title="CUDA Miner" class="md-nav__link">
      CUDA Miner
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/docs/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/docs/installation-windows/" title="Installation in Windows" class="md-nav__link">
      Installation in Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/docs/installation/" title="Installation in Ubuntu" class="md-nav__link">
      Installation in Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../æternity/docs/operation/" title="Operation" class="md-nav__link">
      Operation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Protocol
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Protocol
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Oracles
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Oracles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/oracles/oracle_life_cycle/" title="Life Cycle" class="md-nav__link">
      Life Cycle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/oracles/oracle_state_tree/" title="State Tree" class="md-nav__link">
      State Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/oracles/oracle_transactions" title="Transactions" class="md-nav__link">
      Transactions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/AENS/" title="AENS Naming System" class="md-nav__link">
      AENS Naming System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Smart Contracts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Smart Contracts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/contracts/contract_life_cycle/" title="Contract Life Cycle Examples" class="md-nav__link">
      Contract Life Cycle Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-2" type="checkbox" id="nav-3-3-2">
    
    <label class="md-nav__link" for="nav-3-3-2">
      Virtual Machines
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-2">
        Virtual Machines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/contracts/contract_vms/" title="Æternity VM" class="md-nav__link">
      Æternity VM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/contracts/aevm/" title="Æternity Ethereum VM" class="md-nav__link">
      Æternity Ethereum VM
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/contracts/sophia/" title="Sophia Smart Contract Language" class="md-nav__link">
      Sophia Smart Contract Language
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/contracts/contract_state_tree/" title="Contract State Tree" class="md-nav__link">
      Contract State Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/contracts/contract_transactions/" title="Contract Transactions" class="md-nav__link">
      Contract Transactions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/channels/" title="State Channels" class="md-nav__link">
      State Channels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/serializations/" title="Serialization Formats" class="md-nav__link">
      Serialization Formats
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Expansions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Expansions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Expansions/AEXS/aex-1/" title="AEX1" class="md-nav__link">
      AEX1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Expansions/AEXS/aex-2/" title="AEX2" class="md-nav__link">
      AEX2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Node Usage API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Node Usage API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/node/api/api_encoding/" title="Encoding Scheme" class="md-nav__link">
      Encoding Scheme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/node/api/account_api_usage/" title="Account Managment" class="md-nav__link">
      Account Managment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/node/api/spend_api_usage/" title="Spending Tokens" class="md-nav__link">
      Spending Tokens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/node/api/oracle_api_usage/" title="Oracle" class="md-nav__link">
      Oracle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/node/api/naming_system_api_usage/" title="Naming System" class="md-nav__link">
      Naming System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/node/api/contract_api_usage/" title="Contract" class="md-nav__link">
      Contract
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/node/api/channels_api_usage/" title="Channels" class="md-nav__link">
      Channels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../protocol/node/api/mining_api_usage/" title="Mining" class="md-nav__link">
      Mining
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Developer Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Developer Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1">
    
    <label class="md-nav__link" for="nav-6-1">
      SDK's
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        SDK's
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk-go/" title="Go" class="md-nav__link">
      Go
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk-js/" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk-python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Frameworks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        Frameworks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../forgae/" title="ForgAE" class="md-nav__link">
      ForgAE
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Sophia Libraries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Sophia Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/libraries/DateTime/" title="DateTime" class="md-nav__link">
      DateTime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/libraries/List/" title="List" class="md-nav__link">
      List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/libraries/Ownable/" title="Ownable" class="md-nav__link">
      Ownable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/libraries/FungibleToken/" title="FungibleToken" class="md-nav__link">
      FungibleToken
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/libraries/NonFungibleToken/" title="NonFungibleToken" class="md-nav__link">
      NonFungibleToken
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/libraries/MultisignatureWallet/" title="MultisignatureWallet" class="md-nav__link">
      MultisignatureWallet
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Sophia by Example
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Sophia by Example
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/examples/SmartDataProvider/" title="Smart Data Provider" class="md-nav__link">
      Smart Data Provider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/examples/SmartRealEstate/" title="Smart Real Estate" class="md-nav__link">
      Smart Real Estate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/examples/SpendToMany/" title="Spend-to-Many" class="md-nav__link">
      Spend-to-Many
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../aepp-sophia-examples/examples/TicTacToe/" title="Tic Tac Toe" class="md-nav__link">
      Tic Tac Toe
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      How-To Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        How-To Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1" type="checkbox" id="nav-9-1">
    
    <label class="md-nav__link" for="nav-9-1">
      Account
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-1">
        Account
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../account-creation-in-ae-cli/" title="Create (in æ CLI)" class="md-nav__link">
      Create (in æ CLI)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2">
    
    <label class="md-nav__link" for="nav-9-2">
      Middleware
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-2">
        Middleware
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../running-your-own-ae-middleware/" title="Run Own Middleware" class="md-nav__link">
      Run Own Middleware
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-3" type="checkbox" id="nav-9-3">
    
    <label class="md-nav__link" for="nav-9-3">
      Miner
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-3">
        Miner
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../run-cpu-miner-on-ubuntu-1804/" title="Run CPU Miner (Ubuntu)" class="md-nav__link">
      Run CPU Miner (Ubuntu)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../run-gpu-miner-on-ubuntu-1804/" title="Run GPU Miner (Ubuntu)" class="md-nav__link">
      Run GPU Miner (Ubuntu)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-4" type="checkbox" id="nav-9-4">
    
    <label class="md-nav__link" for="nav-9-4">
      Node
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-4">
        Node
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../run-node-on-macos-mojave/" title="Run Node (MacOS)" class="md-nav__link">
      Run Node (MacOS)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../run-node-on-ubuntu-1804/" title="Run Node (Ubuntu)" class="md-nav__link">
      Run Node (Ubuntu)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-5" type="checkbox" id="nav-9-5">
    
    <label class="md-nav__link" for="nav-9-5">
      Paper Wallet
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-5">
        Paper Wallet
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../create-a-paper-wallet/" title="Create (in æ CLI)" class="md-nav__link">
      Create (in æ CLI)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-6" type="checkbox" id="nav-9-6">
    
    <label class="md-nav__link" for="nav-9-6">
      Sophia
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-6">
        Sophia
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sophia-language-definition-for-notepad++/" title="Install Sophia Notepad++ Language Definition" class="md-nav__link">
      Install Sophia Notepad++ Language Definition
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-7" type="checkbox" id="nav-9-7">
    
    <label class="md-nav__link" for="nav-9-7">
      Testnet
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-7">
        Testnet
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../run-local-testnet-with-docker/" title="Run Local Testnet (Docker)" class="md-nav__link">
      Run Local Testnet (Docker)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../get-testnet-tokens/" title="Get Testnet Tokens" class="md-nav__link">
      Get Testnet Tokens
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-8" type="checkbox" id="nav-9-8" checked>
    
    <label class="md-nav__link" for="nav-9-8">
      Unit Tests
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-8">
        Unit Tests
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        How to Write Unit Test I
      </label>
    
    <a href="./" title="How to Write Unit Test I" class="md-nav__link md-nav__link--active">
      How to Write Unit Test I
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tutorial-overview" title="Tutorial Overview" class="md-nav__link">
    Tutorial Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content" title="Content" class="md-nav__link">
    Content
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fungible-token-contract-unit-tests" title="Fungible token contract - unit tests" class="md-nav__link">
    Fungible token contract - unit tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executing-tests" title="Executing Tests" class="md-nav__link">
    Executing Tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" title="Conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../how-to-write-unit-test-2/" title="How to Write Unit Test II" class="md-nav__link">
      How to Write Unit Test II
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1" type="checkbox" id="nav-10-1">
    
    <label class="md-nav__link" for="nav-10-1">
      Oracles
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-1">
        Oracles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sophia-oracle-introduction/" title="Sophia Oracle Introduction" class="md-nav__link">
      Sophia Oracle Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-2" type="checkbox" id="nav-10-2">
    
    <label class="md-nav__link" for="nav-10-2">
      Sophia
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-2">
        Sophia
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sophia-fungible-token-contract/" title="Fungible Token Contract" class="md-nav__link">
      Fungible Token Contract
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sophia-token-exchange-contract-1/" title="Token Exchange Contract I" class="md-nav__link">
      Token Exchange Contract I
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sophia-token-exchange-contract-2/" title="Token Exchange Contract II" class="md-nav__link">
      Token Exchange Contract II
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sophia-token-exchange-contract-3/" title="Token Exchange Contract III" class="md-nav__link">
      Token Exchange Contract III
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vote-contract.md" title="Vote Contract" class="md-nav__link">
      Vote Contract
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-3" type="checkbox" id="nav-10-3">
    
    <label class="md-nav__link" for="nav-10-3">
      State Channels
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-3">
        State Channels
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../state-channels-introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tutorial-overview" title="Tutorial Overview" class="md-nav__link">
    Tutorial Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content" title="Content" class="md-nav__link">
    Content
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fungible-token-contract-unit-tests" title="Fungible token contract - unit tests" class="md-nav__link">
    Fungible token contract - unit tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executing-tests" title="Executing Tests" class="md-nav__link">
    Executing Tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" title="Conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aeternity/documentation-hub/edit/master/docs/tutorials/how-to-write-unit-test-1.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="tutorial-how-to-write-unit-tests-for-sophia-smart-contracts-part-1">TUTORIAL: How to Write Unit tests for Sophia smart contracts - Part 1</h1>
<h2 id="tutorial-overview">Tutorial Overview</h2>
<p>This tutorial series will walk you through the process of writing unit tests for Sophia smart contracts. To test a contract, we need to use a process where we send some input data, to some function of the contract. Then we assert a given result. </p>
<p>This testing activity is carried out to find defects in the contract code ahead of the deployment. Logically, we can separate the unit tests in two cases, positive test cases and negative test cases.</p>
<p>The positive test cases or positive testing, is the type of testing that can be performed on the system by providing the valid, expect data as input. It checks whether a contract behaves as expected with correct inputs by correctly behaving callers. Simply put, this test is done to check the contract that does what it is supposed to do.</p>
<p>The negative test cases or negative testing, deals with extreme cases and access violations. It proves that your contract is secured against malicious attacks or unfortunate breaks.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before we go any further, please make sure you have reviewed the following tutorials:
- <a href="https://github.com/aeternity/tutorials/blob/master/sophia-token-exchange-contract-1.md">Simple Fungible Token Exchange Smart Contract - Part 1</a>
- <a href="https://github.com/aeternity/tutorials/blob/master/get-started-with-unit-testing.md">How to get started with unit testing via forgae</a></p>
<h2 id="content">Content</h2>
<p>This tutorial, will show you how to write tests for the positive test cases for <code>FungibleToken.aes</code> and <code>ExchangeContract.aes</code> contracts. 
The <a href="https://github.com/aeternity/tutorials/blob/master/how-to-write-unit-test-2.md">second part</a> will be focused on the negative test cases.</p>
<h2 id="fungible-token-contract-unit-tests">Fungible token contract - unit tests</h2>
<p>forgAE allows us to write unit tests using the well known Mocha testing framework and Chai assertion library. 
The <code>forgae test</code> command executes the tests scripts that are located in the test folder of our aeternity project.
Get into your test directory using the following command <code>cd ~/exchangeContract/test</code> and after that let's create a new test script file <code>touch ./fungibleToken.js</code>. There we will write our new tests. 
We will create an additional <code>config</code> file in the <code>test</code> directory via the well-known command <code>touch ./config.json</code>. The content of the newly created file is:</p>
<pre><code>{
  &quot;host&quot;: &quot;http://localhost:3001/&quot;,
  &quot;internalHost&quot;: &quot;http://localhost:3001/internal/&quot;,
  &quot;ownerKeyPair&quot;: {
    &quot;secretKey&quot;: &quot;bb9f0b01c8c9553cfbaf7ef81a50f977b1326801ebf7294d1c2cbccdedf27476e9bbf604e611b5460a3b3999e9771b6f60417d73ce7c5519e12f7e127a1225ca&quot;,
    &quot;publicKey&quot;: &quot;ak_2mwRmUeYmfuW93ti9HMSUJzCk1EYcQEfikVSzgo6k2VghsWhgU&quot;
  },
  &quot;notOwnerKeyPair&quot;: {
    &quot;secretKey&quot;: &quot;e37484af730bc798ac10fdce7523dc24a64182dfe88ff139f739c1c7f3475434df473b854e8d78394c20abfcb8fda9d0ed5dff8703d8668dccda9be157a60b6d&quot;,
    &quot;publicKey&quot;: &quot;ak_2hLLun8mZQvbEhaDxaWtJBsXLnhyokynwfMDZJ67TbqGoSCtQ9&quot;
  },
  &quot;notOwnerPubKeyHex&quot;: &quot;0xdf473b854e8d78394c20abfcb8fda9d0ed5dff8703d8668dccda9be157a60b6d&quot;,
  &quot;pubKeyHex&quot;: &quot;0xe9bbf604e611b5460a3b3999e9771b6f60417d73ce7c5519e12f7e127a1225ca&quot;,
  &quot;filesEncoding&quot;: &quot;utf-8&quot;,
  &quot;gas&quot;: 200000,
  &quot;ttl&quot;: 55
}
</code></pre>

<p>The <code>config</code> file contains:
- as we will run our tests on a local development network spawned by <code>forgae node</code> command, so the host urls of the used network <code>http://localhost:3001/</code> and <code>http://localhost:3001/internal/</code>;
- the details for two wallets - the one will be used as owner, the other as non owner;
- the additional constants as <code>fileEncoding</code>,<code>gas</code> and <code>ttl</code>;</p>
<p>The next step is to get started writing tests.</p>
<p>The first lines of the <code>fungibleToken.js</code> file are:</p>
<pre><code>const chai = require('chai');
let chaiAsPromised = require(&quot;chai-as-promised&quot;);
chai.use(chaiAsPromised);
const assert = chai.assert;
const AeSDK = require('@aeternity/aepp-sdk');
const Universal = AeSDK.Universal;
const config = require(&quot;./config.json&quot;);
const sourceFile = &quot;./contracts/FungibleToken.aes&quot;;
</code></pre>

<p>As you can see, we import the assertion library <code>Chai</code>, installed in local node_modules by the forgae tool. We also import the æternity SDK. Finally, we define the path to the <code>config.json</code> and <code>FungibleToken.aes</code> files.</p>
<p>Remember, Mocha is a testing framework. That means it’s used to organize and execute tests. When writing a test, there are two basic functions you should be aware of: <code>describe()</code> and <code>it()</code>.</p>
<ul>
<li>describe() is simply a way to group our tests in Mocha. We can nest our tests in groups as deep as we deem necessary. describe() takes two arguments, the first is the name of the test group, and the second is a callback function.</li>
</ul>
<pre><code>describe('string name', function(){
  // can nest more describe()'s here, or tests go here
});
</code></pre>

<ul>
<li>it() is used for an individual test case. it() should be written as if you were saying it out loud: “It should equal zero”, “It should log the user in”, etc. it() takes two arguments, a string explaining what the test should do, and a callback function which contains our actual test:</li>
</ul>
<pre><code>it('should blah blah blah', function(){
  // Test case goes here
});
</code></pre>

<p>Mocha provides the hooks <code>before()</code>, <code>after()</code>, <code>beforeEach()</code>, and <code>afterEach()</code>. These should be used to set up preconditions and clean up after your tests.</p>
<p>Let's start with the outermost <code>describe()</code> and the first <code>before()</code> hook:</p>
<pre><code>describe('Fungible token', () =&gt; {

    let firstClient;
    let secondClient;
    let fungibleTokenSource;

    before(async () =&gt; {
        firstClient = await Universal({
            url: config.host,
            internalUrl: config.internalHost,
            keypair: config.ownerKeyPair,
            nativeMode: true,
            networkId: 'ae_devnet'
        });

        secondClient = await Universal({
            url: config.host,
            internalUrl: config.internalHost,
            keypair: config.notOwnerKeyPair,
            nativeMode: true,
            networkId: 'ae_devnet'
        });

        firstClient.setKeypair(config.ownerKeyPair);
        await firstClient.spend(1, config.notOwnerKeyPair.publicKey);

        fungibleTokenSource = utils.readFileRelative(sourceFile, config.filesEncoding);
    });
</code></pre>

<p>In the <code>before</code> hook we create two clients using the <code>Universal</code> development (include all SDK features) flavor. </p>
<p>We continue with the first nested <code>describe</code> which will test the contract deployment:</p>
<pre><code>    describe('Deploy contract', () =&gt; {

        it('deploying successfully', async () =&gt; {
            //Arrange
            const compiledContract = await firstClient.contractCompile(fungibleTokenSource, {});

            //Act
            const deployPromise = compiledContract.deploy({
                options: {
                    ttl: config.ttl
                },
                abi: &quot;sophia&quot;
            });
            assert.isFulfilled(deployPromise, 'Could not deploy the erc20');


            //Assert
            const deployedContract = await deployPromise;
            console.log(deployedContract);
            assert.equal(config.ownerKeyPair.publicKey, deployedContract.owner)
        })

    });
</code></pre>

<p>We use the <code>firstClient</code> created earlier to compile the <code>FungibleToken</code> source code and after that we deploy the compiled contract to our local development network. Finally, we check if the owner of the deployed contract is the same as the public key of the wallet owner set up at the <code>config.json</code>.</p>
<p>With the next tests we will cover the contract functionality - minting tokens, burning tokens, transfer tokens and increasing/decreasing token allowance.</p>
<p>Let's start with the tests for the <code>mint</code> function:</p>
<pre><code>    describe('Interact with contract - positive cases', () =&gt; {
        let deployedContract;
        let compiledContract;

        beforeEach(async () =&gt; {
            compiledContract = await firstClient.contractCompile(fungibleTokenSource, {})
            deployedContract = await compiledContract.deploy({
                options: {
                    ttl: config.ttl
                },
                abi: &quot;sophia&quot;
            });
        });

        describe('Contract functionality', () =&gt; {
            beforeEach(async () =&gt; {
                const mintPromise = deployedContract.call('mint', {
                    args: `(${config.pubKeyHex}, 1000)`,
                    options: {
                        ttl: config.ttl
                    },
                    abi: &quot;sophia&quot;
                });
                assert.isFulfilled(mintPromise, &quot;Couldn't mint token&quot;);
                await mintPromise;
            });

            describe('Mint', () =&gt; {
                it('should mint 1000 token successfully', async () =&gt; {
                    //Arrange
                    const expectedBalance = 1000;

                    //Act
                    const balanceOfPromise = deployedContract.call('balanceOf', {
                        args: `(${config.pubKeyHex})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(balanceOfPromise, 'Could not call balanceOf');
                    const balanceOfResult = await balanceOfPromise;

                    //Assert
                    const decodedBalanceOfResult = await balanceOfResult.decode(&quot;int&quot;);
                    assert.equal(decodedBalanceOfResult.value, expectedBalance)
                });

            });
</code></pre>

<p>Before each test we deploy a new instance of the contact and mint a thousand tokens. 
We check if the balance of the owner is 1000, as much as we minted.</p>
<p>The next functionality which we will test is burning token.</p>
<pre><code>            describe('Burn', () =&gt; {
                it('should burn token successfully', async () =&gt; {
                    //Arrange
                    const expectedBalance = 900;
                    const burnAmount = 100;

                    //Act
                    const ownerOfPromise = deployedContract.call('burn', {
                        args: `(${burnAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(ownerOfPromise, 'Could not call ownerOf');
                    const ownerOfResult = await ownerOfPromise;

                    const balanceOfPromise = deployedContract.call('balanceOf', {
                        args: `(${config.pubKeyHex})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(balanceOfPromise, 'Could not call balanceOf');
                    const balanceOfResult = await balanceOfPromise;

                    //Assert
                    const decodedBalanceOfResult = await balanceOfResult.decode(&quot;int&quot;);
                    assert.equal(decodedBalanceOfResult.value, expectedBalance)
                });

                it('should decrease total supply on burn', async () =&gt; {
                    //Arrange
                    const expectedTotalSupply = 900;
                    const burnAmount = 50;

                    //Act
                    const ownerOfPromise1 = deployedContract.call('burn', {
                        args: `(${burnAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(ownerOfPromise1, 'Could not call ownerOf');
                    const ownerOfResult1 = await ownerOfPromise1;

                    const ownerOfPromise2 = deployedContract.call('burn', {
                        args: `(${burnAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(ownerOfPromise2, 'Could not call ownerOf');
                    const ownerOfResult2 = await ownerOfPromise2;

                    const balanceOfPromise = deployedContract.call('totalSupply', {
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(balanceOfPromise, 'Could not call balanceOf');
                    const balanceOfResult = await balanceOfPromise;

                    //Assert
                    const decodedBalanceOfResult = await balanceOfResult.decode(&quot;int&quot;);
                    assert.equal(decodedBalanceOfResult.value, expectedTotalSupply)
                })
            });
</code></pre>

<p>In the above case we burn an amount of tokens and check if the balance is as we expected.
The second test from the above snippet shows how to check the total token supply has decreased.</p>
<p>The scenario for the <code>transfer</code> function test includes the following steps:
- the owner approves an amount of tokens to non owner;
- the non owner transfers the approved amount on the behalf of the owner account;
- checking the balance of the two accounts;</p>
<pre><code>            describe('Transfer', () =&gt; {
                it('should transfer token successfully', async () =&gt; {
                    //Arrange
                    const expectedBalanceOfNotOwner = 10;
                    const expectedBalanceOfOwner = 990;
                    const transferAmount = 10;

                    //Act
                    const approvePromise = deployedContract.call('approve', {
                        args: `(${config.notOwnerPubKeyHex}, ${transferAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(approvePromise, 'Could not call approve');
                    const approveResult = await approvePromise;

                    const transferFromPromise = secondClient.contractCall(compiledContract.bytecode, 'sophia', deployedContract.address, &quot;transferFrom&quot;, {
                        args: `(${config.pubKeyHex}, ${config.notOwnerPubKeyHex}, ${transferAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(transferFromPromise, 'Could not call transferFrom');

                    const transferFromResult = await transferFromPromise;
                    console.log(transferFromResult);

                    const balanceOfNotOwnerPromise = deployedContract.call('balanceOf', {
                        args: `(${config.notOwnerPubKeyHex})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(balanceOfNotOwnerPromise, 'Could not call balanceOf');
                    const balanceOfNotOwnerResult = await balanceOfNotOwnerPromise;

                    const balanceOwnerPromise = deployedContract.call('balanceOf', {
                        args: `(${config.pubKeyHex})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(balanceOwnerPromise, 'Could not call balanceOf');
                    const balanceOfOwnerResult = await balanceOwnerPromise;

                    //Assert
                    const decodedBalanceOfNotOwnerResult = await balanceOfNotOwnerResult.decode(&quot;int&quot;);
                    const decodedBalanceOfOwnerResult = await balanceOfOwnerResult.decode(&quot;int&quot;);

                    assert.equal(decodedBalanceOfNotOwnerResult.value, expectedBalanceOfNotOwner);
                    assert.equal(decodedBalanceOfOwnerResult.value, expectedBalanceOfOwner)
                });
            });
</code></pre>

<p>Тhe last functionality we will test is token <code>allowance</code>.
We will check if the allowance is increased and decreased successfully.</p>
<pre><code>            describe('Allowance', () =&gt; {
                it('should increase allowance successfully', async () =&gt; {
                    //Arrange
                    const expectedAllowance = 20;
                    const transferAmount = 10;

                    //Act
                    const approvePromise = deployedContract.call('approve', {
                        args: `(${config.notOwnerPubKeyHex}, ${transferAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(approvePromise, 'Could not call approve');
                    const approveResult = await approvePromise;

                    const increaseAllowancePromise = deployedContract.call('increaseAllowance', {
                        args: `(${config.notOwnerPubKeyHex}, ${transferAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(increaseAllowancePromise, 'Could not call approve');
                    const increaseAllowanceResult = await increaseAllowancePromise;

                    const allowancePromise = deployedContract.call('allowance', {
                        args: `(${config.pubKeyHex}, ${config.notOwnerPubKeyHex})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(allowancePromise, 'Could not call approve');
                    const allowancePromiseResult = await allowancePromise;

                    //Assert
                    const allowanceResult = await allowancePromiseResult.decode(&quot;int&quot;);

                    assert.equal(allowanceResult.value, expectedAllowance)
                });

                it('should decrease allowance successfully', async () =&gt; {
                    //Arrange
                    const expectedAllowance = 9;
                    const transferAmount = 10;
                    const decreaseAmount = 1;

                    //Act
                    const approvePromise = deployedContract.call('approve', {
                        args: `(${config.notOwnerPubKeyHex}, ${transferAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(approvePromise, 'Could not call approve');
                    const approveResult = await approvePromise;

                    const decreaseAllowancePromise = deployedContract.call('decreaseAllowance', {
                        args: `(${config.notOwnerPubKeyHex}, ${decreaseAmount})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(decreaseAllowancePromise, 'Could not call approve');
                    const decreaseAllowanceResult = await decreaseAllowancePromise;

                    const allowancePromise = deployedContract.call('allowance', {
                        args: `(${config.pubKeyHex}, ${config.notOwnerPubKeyHex})`,
                        options: {
                            ttl: config.ttl
                        }
                    });
                    assert.isFulfilled(allowancePromise, 'Could not call approve');
                    const allowancePromiseResult = await allowancePromise;

                    //Assert
                    const allowanceResult = await allowancePromiseResult.decode(&quot;int&quot;);

                    assert.equal(allowanceResult.value, expectedAllowance)
                })
            })
</code></pre>

<p>The final content of the <code>fungibleToken.js</code> test script is: 
```javascript=
const chai = require('chai');
let chaiAsPromised = require("chai-as-promised");
chai.use(chaiAsPromised);
const assert = chai.assert;
const AeSDK = require('@aeternity/aepp-sdk');
const Universal = AeSDK.Universal;
const Chain = AeSDK.Chain;
const config = require("./config.json");
const sourceFile = "./contracts/FungibleToken.aes";</p>
<p>describe('Fungible token', () =&gt; {</p>
<pre><code>let firstClient;
let secondClient;
let fungibleTokenSource;

before(async () =&gt; {
    firstClient = await Universal({
        url: config.host,
        internalUrl: config.internalHost,
        keypair: config.ownerKeyPair,
        nativeMode: true,
        networkId: 'ae_devnet'
    });

    secondClient = await Universal({
        url: config.host,
        internalUrl: config.internalHost,
        keypair: config.notOwnerKeyPair,
        nativeMode: true,
        networkId: 'ae_devnet'
    });

    firstClient.setKeypair(config.ownerKeyPair);
    await firstClient.spend(1, config.notOwnerKeyPair.publicKey);

    fungibleTokenSource = utils.readFileRelative(sourceFile, config.filesEncoding);
});

describe('Deploy contract', () =&gt; {

    it('deploying successfully', async () =&gt; {
        //Arrange
        const compiledContract = await firstClient.contractCompile(fungibleTokenSource, {});

        //Act
        const deployPromise = compiledContract.deploy({
            options: {
                ttl: config.ttl
            },
            abi: "sophia"
        });
        assert.isFulfilled(deployPromise, 'Could not deploy the erc20');


        //Assert
        const deployedContract = await deployPromise;
        console.log(deployedContract);
        assert.equal(config.ownerKeyPair.publicKey, deployedContract.owner)
    })

});

describe('Interact with contract - positive cases', () =&gt; {
    let deployedContract;
    let compiledContract;

    beforeEach(async () =&gt; {
        compiledContract = await firstClient.contractCompile(fungibleTokenSource, {})
        deployedContract = await compiledContract.deploy({
            options: {
                ttl: config.ttl
            },
            abi: "sophia"
        });
    });

    describe('Contract functionality', () =&gt; {
        beforeEach(async () =&gt; {
            const mintPromise = deployedContract.call('mint', {
                args: `(${config.pubKeyHex}, 1000)`,
                options: {
                    ttl: config.ttl
                },
                abi: "sophia"
            });
            assert.isFulfilled(mintPromise, "Couldn't mint token");
            await mintPromise;
        });

        describe('Mint', () =&gt; {
            it('should mint 1000 token successfully', async () =&gt; {
                //Arrange
                const expectedBalance = 1000;

                //Act
                const balanceOfPromise = deployedContract.call('balanceOf', {
                    args: `(${config.pubKeyHex})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(balanceOfPromise, 'Could not call balanceOf');
                const balanceOfResult = await balanceOfPromise;

                //Assert
                const decodedBalanceOfResult = await balanceOfResult.decode("int");
                assert.equal(decodedBalanceOfResult.value, expectedBalance)
            });

        });

        describe('Burn', () =&gt; {
            it('should burn token successfully', async () =&gt; {
                //Arrange
                const expectedBalance = 900;
                const burnAmount = 100;

                //Act
                const ownerOfPromise = deployedContract.call('burn', {
                    args: `(${burnAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(ownerOfPromise, 'Could not call ownerOf');
                const ownerOfResult = await ownerOfPromise;

                const balanceOfPromise = deployedContract.call('balanceOf', {
                    args: `(${config.pubKeyHex})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(balanceOfPromise, 'Could not call balanceOf');
                const balanceOfResult = await balanceOfPromise;

                //Assert
                const decodedBalanceOfResult = await balanceOfResult.decode("int");
                assert.equal(decodedBalanceOfResult.value, expectedBalance)
            });

            it('should decrease total supply on burn', async () =&gt; {
                //Arrange
                const expectedTotalSupply = 900;
                const burnAmount = 50;

                //Act
                const ownerOfPromise1 = deployedContract.call('burn', {
                    args: `(${burnAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(ownerOfPromise1, 'Could not call ownerOf');
                const ownerOfResult1 = await ownerOfPromise1;

                const ownerOfPromise2 = deployedContract.call('burn', {
                    args: `(${burnAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(ownerOfPromise2, 'Could not call ownerOf');
                const ownerOfResult2 = await ownerOfPromise2;

                const balanceOfPromise = deployedContract.call('totalSupply', {
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(balanceOfPromise, 'Could not call balanceOf');
                const balanceOfResult = await balanceOfPromise;

                //Assert
                const decodedBalanceOfResult = await balanceOfResult.decode("int");
                assert.equal(decodedBalanceOfResult.value, expectedTotalSupply)
            })
        });

        describe('Transfer', () =&gt; {
            it('should transfer token successfully', async () =&gt; {
                //Arrange
                const expectedBalanceOfNotOwner = 10;
                const expectedBalanceOfOwner = 990;
                const transferAmount = 10;

                //Act
                const approvePromise = deployedContract.call('approve', {
                    args: `(${config.notOwnerPubKeyHex}, ${transferAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(approvePromise, 'Could not call approve');
                const approveResult = await approvePromise;

                const transferFromPromise = secondClient.contractCall(compiledContract.bytecode, 'sophia', deployedContract.address, "transferFrom", {
                    args: `(${config.pubKeyHex}, ${config.notOwnerPubKeyHex}, ${transferAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(transferFromPromise, 'Could not call transferFrom');

                const transferFromResult = await transferFromPromise;
                console.log(transferFromResult);

                const balanceOfNotOwnerPromise = deployedContract.call('balanceOf', {
                    args: `(${config.notOwnerPubKeyHex})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(balanceOfNotOwnerPromise, 'Could not call balanceOf');
                const balanceOfNotOwnerResult = await balanceOfNotOwnerPromise;

                const balanceOwnerPromise = deployedContract.call('balanceOf', {
                    args: `(${config.pubKeyHex})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(balanceOwnerPromise, 'Could not call balanceOf');
                const balanceOfOwnerResult = await balanceOwnerPromise;

                //Assert
                const decodedBalanceOfNotOwnerResult = await balanceOfNotOwnerResult.decode("int");
                const decodedBalanceOfOwnerResult = await balanceOfOwnerResult.decode("int");

                assert.equal(decodedBalanceOfNotOwnerResult.value, expectedBalanceOfNotOwner);
                assert.equal(decodedBalanceOfOwnerResult.value, expectedBalanceOfOwner)
            });
        });

        describe('Allowance', () =&gt; {
            it('should increase allowance successfully', async () =&gt; {
                //Arrange
                const expectedAllowance = 20;
                const transferAmount = 10;

                //Act
                const approvePromise = deployedContract.call('approve', {
                    args: `(${config.notOwnerPubKeyHex}, ${transferAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(approvePromise, 'Could not call approve');
                const approveResult = await approvePromise;

                const increaseAllowancePromise = deployedContract.call('increaseAllowance', {
                    args: `(${config.notOwnerPubKeyHex}, ${transferAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(increaseAllowancePromise, 'Could not call approve');
                const increaseAllowanceResult = await increaseAllowancePromise;

                const allowancePromise = deployedContract.call('allowance', {
                    args: `(${config.pubKeyHex}, ${config.notOwnerPubKeyHex})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(allowancePromise, 'Could not call approve');
                const allowancePromiseResult = await allowancePromise;

                //Assert
                const allowanceResult = await allowancePromiseResult.decode("int");

                assert.equal(allowanceResult.value, expectedAllowance)
            });

            it('should decrease allowance successfully', async () =&gt; {
                //Arrange
                const expectedAllowance = 9;
                const transferAmount = 10;
                const decreaseAmount = 1;

                //Act
                const approvePromise = deployedContract.call('approve', {
                    args: `(${config.notOwnerPubKeyHex}, ${transferAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(approvePromise, 'Could not call approve');
                const approveResult = await approvePromise;

                const decreaseAllowancePromise = deployedContract.call('decreaseAllowance', {
                    args: `(${config.notOwnerPubKeyHex}, ${decreaseAmount})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(decreaseAllowancePromise, 'Could not call approve');
                const decreaseAllowanceResult = await decreaseAllowancePromise;

                const allowancePromise = deployedContract.call('allowance', {
                    args: `(${config.pubKeyHex}, ${config.notOwnerPubKeyHex})`,
                    options: {
                        ttl: config.ttl
                    }
                });
                assert.isFulfilled(allowancePromise, 'Could not call approve');
                const allowancePromiseResult = await allowancePromise;

                //Assert
                const allowanceResult = await allowancePromiseResult.decode("int");

                assert.equal(allowanceResult.value, expectedAllowance)
            })
        })
    })
});
</code></pre>
<p>});</p>
<pre><code>## Exchange contract - unit tests
Let's create a new script file in the test folder:
</code></pre>

<p>touch ./fungibleToken.js</p>
<pre><code>
The file starts with the following lines:
</code></pre>

<p>const chai = require('chai');
let chaiAsPromised = require("chai-as-promised");
chai.use(chaiAsPromised);
const assert = chai.assert;
const AeSDK = require('@aeternity/aepp-sdk');
const Universal = AeSDK.Universal;
const Crypto = AeSDK.Crypto;
const config = require("./config.json");
const fungibleTokenPath = "./contracts/FungibleToken.aes";
const exchangeContractPath = "./contracts/ExchangeContract.aes";</p>
<pre><code>
There are two additions compared within the first lines of the ```fungibleToken.js```:
- the ```Crypto``` module of the æternity javascript SDK which will enable us to decode the base58 addresses. You can learn more about ```Crypto``` module [here](https://dev.aepps.com/aepp-sdk-js/docs/api/utils/crypto.html);
- the path to the ```ExchangeContract.aes```;

The ```ExchangeContract``` has one main function - the ```exchange```, there are a few steps we need to accomplish, before we are able to test it. 
The steps are:
- deploy the receiving token contract;
- deploy the sending token contract;
- deploy the exchange contract with the above deployed addresses and the rate, passed as arguments; 
- mint receiving tokens to the caller account;
- mint sending tokens to the exchange contract;
- give permission to spend some amount of the first token type(receiving) to the ```ExchangeContract```;

The code for all described above, you can see in the below section:
```javascript=
const chai = require('chai');
let chaiAsPromised = require(&quot;chai-as-promised&quot;);
chai.use(chaiAsPromised);
const assert = chai.assert;
const AeSDK = require('@aeternity/aepp-sdk');
const Universal = AeSDK.Universal;
const Crypto = AeSDK.Crypto;
const config = require(&quot;./config.json&quot;);
const fungibleTokenPath = &quot;./contracts/FungibleToken.aes&quot;;
const exchangeContractPath = &quot;./contracts/ExchangeContract.aes&quot;;

describe('Exchange contract', () =&gt; {
    const callerAccountInitialReceivingTokens = 100;
    const exchangeContractInitialSendingTokens = 1000;
    const rate = 2;
    const approvalAmount = 50;

    let firstClient;
    let fungibleTokenSource;
    let exchangeContractSource;

    let receivingTokenAddress;
    let sendingTokenAddress;
    let exchangeContractAddress;

    let deployedReceivingTokenContract;
    let deployedSendingTokenContract;
    let deployedExchangeContract;

    before(async () =&gt; {
        firstClient = await Universal({
            url: config.host,
            internalUrl: config.internalHost,
            keypair: config.ownerKeyPair,
            nativeMode: true,
            networkId: 'ae_devnet'
        });

        fungibleTokenSource = utils.readFileRelative(fungibleTokenPath, config.filesEncoding);
        exchangeContractSource = utils.readFileRelative(exchangeContractPath, config.filesEncoding);
    });

    describe('Deploy contract', () =&gt; {

        it('deploying successfully', async () =&gt; {
            //Arrange
            const compiledFungibleTokenContract = await firstClient.contractCompile(fungibleTokenSource, {});
            const compiledExchangeContract = await firstClient.contractCompile(exchangeContractSource, {});

            //Receiving token
            const receivingTokenPromise = compiledFungibleTokenContract.deploy({
                options: {
                    ttl: config.ttl
                },
                abi: &quot;sophia&quot;
            });
            assert.isFulfilled(receivingTokenPromise, 'Could not deploy the receiving token');

            //Assert
            deployedReceivingTokenContract = await receivingTokenPromise;
            receivingTokenAddress = `0x${Crypto.decodeBase58Check(Crypto.assertedType(deployedReceivingTokenContract.address, 'ct')).toString('hex')}`;
            assert.equal(config.ownerKeyPair.publicKey, deployedReceivingTokenContract.owner);

            //Sending token
            const sendingTokenPromise = compiledFungibleTokenContract.deploy({
                options: {
                    ttl: config.ttl
                },
                abi: &quot;sophia&quot;
            });
            assert.isFulfilled(sendingTokenPromise, 'Could not deploy the receiving token');

            //Assert
            deployedSendingTokenContract = await sendingTokenPromise;
            sendingTokenAddress = `0x${Crypto.decodeBase58Check(Crypto.assertedType(deployedSendingTokenContract.address, 'ct')).toString('hex')}`;
            assert.equal(config.ownerKeyPair.publicKey, deployedSendingTokenContract.owner);

            //Exchange contract
            const exchangeContractPromise = compiledExchangeContract.deploy({
                initState: `(${receivingTokenAddress}, ${sendingTokenAddress}, ${rate})`,
                options: {
                    ttl: config.ttl
                },
                abi: &quot;sophia&quot;
            });
            assert.isFulfilled(exchangeContractPromise, 'Could not deploy the receiving token');

            //Assert
            deployedExchangeContract = await exchangeContractPromise;
            exchangeContractAddress = `0x${Crypto.decodeBase58Check(Crypto.assertedType(deployedExchangeContract.address, 'ct')).toString('hex')}`;
            assert.equal(config.ownerKeyPair.publicKey, deployedExchangeContract.owner);
        });

        it('post deployment steps', async () =&gt; {
            // mint receiving tokens to caller account
            const mintReceivingPromise = deployedReceivingTokenContract.call('mint', {
                args: `(${config.pubKeyHex}, ${callerAccountInitialReceivingTokens})`,
                options: {
                    ttl: config.ttl
                },
                abi: &quot;sophia&quot;
            });
            assert.isFulfilled(mintReceivingPromise, &quot;Couldn't mint token&quot;);
            await mintReceivingPromise;

            // check caller account receiving token balance
            const balanceOfCallerPromise = deployedReceivingTokenContract.call('balanceOf', {
                args: `(${config.pubKeyHex})`,
                options: {
                    ttl: config.ttl
                }
            });
            assert.isFulfilled(balanceOfCallerPromise, 'Could not call balanceOf');
            const balanceOfCallerResult = await balanceOfCallerPromise;

            //Assert
            const decodedBalanceOfCallerResult = await balanceOfCallerResult.decode(&quot;int&quot;);
            assert.equal(decodedBalanceOfCallerResult.value, callerAccountInitialReceivingTokens);

            // mint sending tokens to ExchangeContract
            const mintSendingPromise = deployedSendingTokenContract.call('mint', {
                args: `(${exchangeContractAddress}, ${exchangeContractInitialSendingTokens})`,
                options: {
                    ttl: config.ttl
                },
                abi: &quot;sophia&quot;
            });
            assert.isFulfilled(mintSendingPromise, &quot;Couldn't mint token&quot;);
            await mintSendingPromise;

            // check caller account receiving token balance
            const balanceOfExchangeContractPromise = deployedSendingTokenContract.call('balanceOf', {
                args: `(${exchangeContractAddress})`,
                options: {
                    ttl: config.ttl
                }
            });
            assert.isFulfilled(balanceOfExchangeContractPromise, 'Could not call balanceOf');
            const balanceOfResult = await balanceOfExchangeContractPromise;

            //Assert
            const decodedBalanceOfResult = await balanceOfResult.decode(&quot;int&quot;);
            assert.equal(decodedBalanceOfResult.value, exchangeContractInitialSendingTokens);

            // approve receiving tokens from caller account to ExchangeContract
            const approvePromise = deployedReceivingTokenContract.call('approve', {
                args: `(${exchangeContractAddress}, ${approvalAmount})`,
                options: {
                    ttl: config.ttl
                },
                abi: &quot;sophia&quot;
            });
            assert.isFulfilled(approvePromise, &quot;Couldn't approve token&quot;);
            await approvePromise;

            // check ExchangeContract receiving token allowance
            const allowanceOfExchangeContractPromise = deployedReceivingTokenContract.call('allowance', {
                args: `(${config.pubKeyHex}, ${exchangeContractAddress})`,
                options: {
                    ttl: config.ttl
                }
            });
            assert.isFulfilled(allowanceOfExchangeContractPromise, 'Could not call balanceOf');
            const allowanceOfResult = await allowanceOfExchangeContractPromise;

            //Assert
            const decodedAllowanceOfResult = await allowanceOfResult.decode(&quot;int&quot;);
            assert.equal(decodedAllowanceOfResult.value, approvalAmount);
        })

    });

    describe('Exchange function', () =&gt; {
        it('should exchange receiving/sending tokens successfully', async () =&gt; {
            const receivingTokenExchangeAmount = 5;
            const receivingTokenExpectedAmount = 95;
            const sendingTokenExpectedAmount = 10;

            const exchangePromise = deployedExchangeContract.call('exchange', {
                args: `(${receivingTokenExchangeAmount})`,
                options: {
                    ttl: config.ttl
                }
            });
            assert.isFulfilled(exchangePromise, 'Could not call exchange function');
            await exchangePromise;

            // check caller account receiving token balance
            const balanceOfReceivingPromise = deployedReceivingTokenContract.call('balanceOf', {
                args: `(${config.pubKeyHex})`,
                options: {
                    ttl: config.ttl
                }
            });
            assert.isFulfilled(balanceOfReceivingPromise, 'Could not call balanceOf');
            const balanceOfReceivingResult = await balanceOfReceivingPromise;

            //Assert
            const decodedBalanceOfReceivingResult = await balanceOfReceivingResult.decode(&quot;int&quot;);
            assert.equal(decodedBalanceOfReceivingResult.value, receivingTokenExpectedAmount);

            // check caller account sending token balance
            const balanceOfSendingPromise = deployedSendingTokenContract.call('balanceOf', {
                args: `(${config.pubKeyHex})`,
                options: {
                    ttl: config.ttl
                }
            });
            assert.isFulfilled(balanceOfSendingPromise, 'Could not call balanceOf');
            const balanceOfSendingResult = await balanceOfSendingPromise;

            //Assert
            const decodedBalanceOfSendingResult = await balanceOfSendingResult.decode(&quot;int&quot;);
            assert.equal(decodedBalanceOfSendingResult.value, sendingTokenExpectedAmount);
        });
    });

});
</code></pre>

<h2 id="executing-tests">Executing Tests</h2>
<p>We finished the unit tests for our <code>FungibleToken</code> and <code>ExchangeContract</code> contracts positive test cases. Let's run the test with the <code>forgae test</code> command. The expected output should look like this:</p>
<pre><code>===== Starting Tests =====

  Exchange contract
    Deploy contract
      ✓ deploying successfully (11142ms)
      ✓ post deployment steps (31810ms)
    Exchange function
      ✓ should exchange receiving/sending tokens successfully (15946ms)

  Fungible token
    Deploy contract
      ✓ deploying successfully (5342ms)
    Interact with contract - positive cases
      Contract functionality
        Mint
          ✓ should mint 1000 token successfully (5324ms)
        Burn
          ✓ should burn token successfully (10619ms)
          ✓ should decrease total supply on burn (15920ms)
        Transfer
          ✓ should transfer token successfully (16920ms)
        Allowance
          ✓ should increase allowance successfully (15907ms)
          ✓ should decrease allowance successfully (15880ms)

  11 passing (3m)  
</code></pre>

<h2 id="conclusion">Conclusion</h2>
<p>In this tutorials we've learnt how to deal with unit tests and writing their positive test cases. In the next part we will learn how to deal with negative test cases in order to secure our smart contract.</p>
<p>The æternity team will keep this tutorial updated with news. If you encounter any problems please contract us through the <a href="https://forum.aeternity.com/c/development">æternity dev Forum category</a>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../get-testnet-tokens/" title="Get Testnet Tokens" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Get Testnet Tokens
              </span>
            </div>
          </a>
        
        
          <a href="../how-to-write-unit-test-2/" title="How to Write Unit Test II" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                How to Write Unit Test II
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>